"use strict";(self.webpackChunkbling=self.webpackChunkbling||[]).push([[794],{18456:(e,r,t)=>{t.d(r,{Z:()=>h});var a=t(26769),n=t.n(a),o=t(697),s=t(20890),l=t(50533),c=t(11087),i=t(93517),d=t(80184);function u(e){let{links:r,activeLast:t=!1,...a}=e;const n=r[r.length-1].name,l=r.map((e=>(0,d.jsx)(p,{link:e},e.name))),c=r.map((e=>(0,d.jsx)("div",{children:e.name!==n?(0,d.jsx)(p,{link:e}):(0,d.jsx)(s.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:n})},e.name)));return(0,d.jsx)(i.Z,{separator:(0,d.jsx)(o.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...a,children:t?l:c})}function p(e){let{link:r}=e;const{href:t,name:a,icon:n}=r;return(0,d.jsxs)(l.Z,{variant:"body2",component:c.rU,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[n&&(0,d.jsx)(o.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:n}),a]},a)}function h(e){let{links:r,action:t,heading:a,moreLink:c=[],sx:i,...p}=e;return(0,d.jsxs)(o.Z,{sx:{mb:5,...i},children:[(0,d.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(o.Z,{sx:{flexGrow:1},children:[(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:a}),(0,d.jsx)(u,{links:r,...p})]}),t&&(0,d.jsx)(o.Z,{sx:{flexShrink:0},children:t})]}),(0,d.jsx)(o.Z,{sx:{mt:2},children:n()(c)?(0,d.jsx)(l.Z,{href:c,target:"_blank",rel:"noopener",variant:"body2",children:c}):c.map((e=>(0,d.jsx)(l.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},24794:(e,r,t)=>{t.r(r),t.d(r,{default:()=>S});var a=t(72791),n=t(35345),o=t(57689),s=t(89164),l=t(38072),c=t(61069),i=t(85703),d=t(22643),u=t(25212),p=t(18456),h=t(81724),x=t(61134),m=t(44695),f=t(39709),g=t(61889),v=t(57621),y=t(697),Z=t(36314),b=t(2190),j=t(98226),_=t(67330),w=t(33168),k=t(80184);function C(e){let{isEdit:r,currentExchangeRate:t}=e;const s=(0,o.s0)(),{t:i}=(0,w.$)(),{enqueueSnackbar:u}=(0,n.Ds)(),p=h.Ry().shape({from_currency:h.Z_().required(i("field.required",{obj:i("field.from_currency")})),to_currency:h.Z_().required(i("field.required",{obj:i("field.to_currency")})),rate:h.Rx().required(i("field.required",{obj:i("field.rate")}))}),C=(0,a.useMemo)((()=>({from_currency:(null===t||void 0===t?void 0:t.from_currency)||"",to_currency:(null===t||void 0===t?void 0:t.to_currency)||"",rate:(null===t||void 0===t?void 0:t.rate)||0,keyId:(null===t||void 0===t?void 0:t.id)||-1})),[t]),S=(0,x.cI)({resolver:(0,m.X)(p),defaultValues:C}),I=(0,c.I0)(),{reset:R,watch:P,control:B,setValue:E,handleSubmit:q,formState:{isSubmitting:A}}=S,M=P();(0,a.useEffect)((()=>{r&&t&&R(C),r||R(C)}),[r,t]);const{currencies:T}=(0,c.v9)((e=>e.generale));return(0,a.useEffect)((()=>{I((0,j.DE)())}),[I]),(0,k.jsx)(b.RV,{methods:S,onSubmit:q((async()=>{try{if(r){const e=await(0,d.X$)(M);I((0,d.W4)(e))}else{const e=await(0,d.X)(M);I((0,d.Dm)(e))}R(),u(i(r?"success.UPDATED":"success.CREATE")),s(l.vB.configuration.exchange_rate)}catch(e){console.error(e);const r=(0,_.Z)(e);u(i("error.".concat(r)),{variant:"error"})}})),children:(0,k.jsx)(g.ZP,{container:!0,spacing:3,children:(0,k.jsx)(g.ZP,{item:!0,xs:12,md:8,children:(0,k.jsxs)(v.Z,{sx:{p:3},children:[(0,k.jsxs)(y.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,k.jsxs)(b.Cc,{name:"from_currency",label:i("field.from_currency"),placeholder:i("field.from_currency"),disabled:r,children:[(0,k.jsx)("option",{value:""}),null===T||void 0===T?void 0:T.map((e=>(0,k.jsx)("option",{value:e,children:e},e)))]}),(0,k.jsxs)(b.Cc,{name:"to_currency",label:i("field.to_currency"),placeholder:i("field.to_currency"),disabled:r,children:[(0,k.jsx)("option",{value:""}),null===T||void 0===T?void 0:T.map((e=>(0,k.jsx)("option",{value:e,children:e},e)))]}),(0,k.jsx)(b.au,{name:"rate",label:i("field.rate")})]}),(0,k.jsx)(Z.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,k.jsx)(f.Z,{type:"submit",variant:"contained",loading:A,children:r?i("params.save_change"):i("params.create",{obj:i("p_exchange_rate.exchange")})})})]})})})})}function S(){const{themeStretch:e}=(0,i.Z)(),{t:r}=(0,w.$)(),t=(0,o.s0)(),h=(0,c.I0)(),{enqueueSnackbar:x}=(0,n.Ds)(),{pathname:m}=(0,o.TH)(),{exchangeRateKey:f=""}=(0,o.UO)(),g=m.includes("edit"),[v,y]=(0,a.useState)(null);(0,a.useEffect)((()=>{g&&Z()}),[f]);const Z=async()=>{try{const e=await(0,d.fc)(Number(f));y(e),h((0,d.pF)())}catch(e){console.error(e);const r=(0,_.Z)(e);x(r,{variant:"error"}),t(l.vB.configuration.exchange_rate)}};return(0,k.jsx)(u.Z,{title:"Configuration: ".concat(r(g?"p_exchange_rate.edit_exchange":"p_exchange_rate.new_exchange")),children:(0,k.jsxs)(s.Z,{maxWidth:!e&&"lg",children:[(0,k.jsx)(p.Z,{heading:r(g?"p_exchange_rate.edit_exchange":"p_exchange_rate.new_exchange"),links:[{name:r("params.dashboard"),href:l.vB.root},{name:r("params.configuration"),href:l.vB.configuration.root},{name:g?"".concat(r("p_exchange_rate.exchange")," ").concat(null===v||void 0===v?void 0:v.from_currency," ").concat(r("params.to")," ").concat(null===v||void 0===v?void 0:v.to_currency):r("p_exchange_rate.new_exchange")}]}),(0,k.jsx)(C,{isEdit:g,currentExchangeRate:v})]})})}},67330:(e,r,t)=>{t.d(r,{Z:()=>a});const a=e=>{var r;if(null!==(r=e.response)&&void 0!==r&&r.data){if("string"===typeof e.response.data)return e.response.data;if(Array.isArray(e.response.data))return e.response.data[0];if(e.response.data.detail)return e.response.data.detail}return"An error occurred. Please try again."}},93517:(e,r,t)=>{t.d(r,{Z:()=>P});var a=t(87462),n=t(63366),o=t(72791),s=(t(57441),t(63733)),l=t(94419),c=t(40536),i=t(66934),d=t(31402),u=t(20890),p=t(12065),h=t(74223),x=t(80184);const m=(0,h.Z)((0,x.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var f=t(95080);const g=["slots","slotProps"],v=(0,i.ZP)(f.Z)((e=>{let{theme:r}=e;return(0,a.Z)({display:"flex",marginLeft:"calc(".concat(r.spacing(1)," * 0.5)"),marginRight:"calc(".concat(r.spacing(1)," * 0.5)")},"light"===r.palette.mode?{backgroundColor:r.palette.grey[100],color:r.palette.grey[700]}:{backgroundColor:r.palette.grey[700],color:r.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,a.Z)({},"light"===r.palette.mode?{backgroundColor:r.palette.grey[200]}:{backgroundColor:r.palette.grey[600]}),"&:active":(0,a.Z)({boxShadow:r.shadows[0]},"light"===r.palette.mode?{backgroundColor:(0,p._4)(r.palette.grey[200],.12)}:{backgroundColor:(0,p._4)(r.palette.grey[600],.12)})})})),y=(0,i.ZP)(m)({width:24,height:16});const Z=function(e){const{slots:r={},slotProps:t={}}=e,o=(0,n.Z)(e,g),s=e;return(0,x.jsx)("li",{children:(0,x.jsx)(v,(0,a.Z)({focusRipple:!0},o,{ownerState:s,children:(0,x.jsx)(y,(0,a.Z)({as:r.CollapsedIcon,ownerState:s},t.collapsedIcon))}))})};var b=t(75878),j=t(21217);function _(e){return(0,j.Z)("MuiBreadcrumbs",e)}const w=(0,b.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),k=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,i.ZP)(u.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,r)=>[{["& .".concat(w.li)]:r.li},r.root]})({}),S=(0,i.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,r)=>r.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),I=(0,i.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,r)=>r.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function R(e,r,t,a){return e.reduce(((n,o,s)=>(s<e.length-1?n=n.concat(o,(0,x.jsx)(I,{"aria-hidden":!0,className:r,ownerState:a,children:t},"separator-".concat(s))):n.push(o),n)),[])}const P=o.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiBreadcrumbs"}),{children:i,className:u,component:p="nav",slots:h={},slotProps:m={},expandText:f="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:v=1,maxItems:y=8,separator:b="/"}=t,j=(0,n.Z)(t,k),[w,I]=o.useState(!1),P=(0,a.Z)({},t,{component:p,expanded:w,expandText:f,itemsAfterCollapse:g,itemsBeforeCollapse:v,maxItems:y,separator:b}),B=(e=>{const{classes:r}=e;return(0,l.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},_,r)})(P),E=(0,c.y)({elementType:h.CollapsedIcon,externalSlotProps:m.collapsedIcon,ownerState:P}),q=o.useRef(null),A=o.Children.toArray(i).filter((e=>o.isValidElement(e))).map(((e,r)=>(0,x.jsx)("li",{className:B.li,children:e},"child-".concat(r))));return(0,x.jsx)(C,(0,a.Z)({ref:r,component:p,color:"text.secondary",className:(0,s.Z)(B.root,u),ownerState:P},j,{children:(0,x.jsx)(S,{className:B.ol,ref:q,ownerState:P,children:R(w||y&&A.length<=y?A:(e=>v+g>=e.length?e:[...e.slice(0,v),(0,x.jsx)(Z,{"aria-label":f,slots:{CollapsedIcon:h.CollapsedIcon},slotProps:{collapsedIcon:E},onClick:()=>{I(!0);const e=q.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(A),B.separator,b,P)})}))}))}}]);
//# sourceMappingURL=794.dd56cbf3.chunk.js.map