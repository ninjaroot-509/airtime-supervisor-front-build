"use strict";(self.webpackChunkbling_supervisor=self.webpackChunkbling_supervisor||[]).push([[397],{63397:(e,n,s)=>{s.r(n),s.d(n,{default:()=>O});var i=s(35475),a=s(34535),r=s(12110),l=s(85865),o=s(88446),t=s(19252),d=s(96446),u=s(62098),m=s(48407),c=s(19838),p=s(65890),h=s(73856),g=s(73033),v=s(65043),x=s(24858),f=s(73216),j=s(18403),A=s(88911),b=s(67254),w=s(51787),y=s(17392),q=s(72812),_=s(30342),C=s(43409),N=s(20974),P=s(73601),k=s(70579);const S=[{label:"Fran\xe7ais",value:"fr"},{label:"Cr\xe9ole Ha\xeftien",value:"ht"},{label:"English",value:"en"}];function E(){const{register:e}=(0,_.A)(),n=(0,f.zy)(),s=new URLSearchParams(n.search).get("ref"),i=(0,C.A)(),[a,r]=(0,v.useState)(!1),l=g.Ik().shape({ref_code:g.Yj().nullable(),phone:g.Yj().required("A phone number is required"),langue:g.Yj().required("Langue is required"),firstName:g.Yj().required("First name is required"),lastName:g.Yj().required("Last name is required"),username:g.Yj().required("Username is required").matches(/^[A-Za-z0-9_]{1,15}$/,"your username is incorect"),email:g.Yj().email("Email must be a valid email address").required("Email is required"),password:g.Yj().required("Password is required"),passwordConfirmation:g.Yj().oneOf([g.KR("password"),null],"Passwords must match").required("Password is required")}),o={phone:"",langue:S[0].value,firstName:"",lastName:"",username:"",email:"",password:"",passwordConfirmation:"",ref_code:s},t=(0,x.mN)({resolver:(0,j.t)(l),defaultValues:o}),{watch:d,reset:u,setError:m,handleSubmit:c,formState:{errors:p,isSubmitting:h}}=t,E=d();return(0,k.jsx)(P.Op,{methods:t,onSubmit:c((async n=>{try{await e(n.phone,n.langue,n.username,n.email,n.password,n.firstName,n.lastName,n.ref_code),window.location.reload()}catch(a){var s;if(i.current)window.scrollTo(0,0),m("afterSubmit",{...a,message:Object.values(null===a||void 0===a||null===(s=a.response)||void 0===s?void 0:s.data).flat().join(" ")}),a.response.data.phone&&m("phone",{...a,message:a.response.data.phone}),a.response.data.username&&m("username",{...a,message:a.response.data.username}),a.response.data.ref_code&&m("ref_code",{...a,message:a.response.data.ref_code}),a.response.data.email?m("email",{...a,message:a.response.data.email}):a.response.data.non_field_errors&&m("email",{...a,message:a.response.data.non_field_errors}),a.response.data.password&&(m("password",{...a,message:a.response.data.password}),m("passwordConfirmation",{...a,message:a.response.data.password}))}})),children:(0,k.jsxs)(A.A,{spacing:3,children:[!!p.afterSubmit&&(0,k.jsx)(b.A,{severity:"error",children:p.afterSubmit.message}),(0,k.jsxs)(A.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,k.jsx)(P.nU,{type:"tel",name:"phone",label:"Phone"}),(0,k.jsxs)(P.tX,{name:"langue",label:"Langue",placeholder:"Langue",children:[(0,k.jsx)("option",{value:""}),S.map((e=>(0,k.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,k.jsxs)(A.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,k.jsx)(P.o3,{name:"firstName",label:"en"===(null===E||void 0===E?void 0:E.langue)?"First name":"ht"===(null===E||void 0===E?void 0:E.langue)?"Nonw":"Pr\xe9nom"}),(0,k.jsx)(P.o3,{name:"lastName",label:"en"===(null===E||void 0===E?void 0:E.langue)?"Last name":"ht"===(null===E||void 0===E?void 0:E.langue)?"Siyati":"Nom"})]}),(0,k.jsxs)(A.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,k.jsx)(P.o3,{name:"username",label:"en"===(null===E||void 0===E?void 0:E.langue)?"Username":"ht"===(null===E||void 0===E?void 0:E.langue)?"Ti nom":"Pseudonyme"}),(0,k.jsx)(P.o3,{type:"email",name:"email",label:"en"===(null===E||void 0===E?void 0:E.langue)?"Email address":"ht"===(null===E||void 0===E?void 0:E.langue)?"Adr\xe8s mel":"Adresse e-mail"})]}),(0,k.jsxs)(A.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,k.jsx)(P.o3,{name:"password",label:"en"===(null===E||void 0===E?void 0:E.langue)?"Password":"ht"===(null===E||void 0===E?void 0:E.langue)?"Modpas":"Mot de passe",type:a?"text":"password",InputProps:{endAdornment:(0,k.jsx)(w.A,{position:"end",children:(0,k.jsx)(y.A,{edge:"end",onClick:()=>r(!a),children:(0,k.jsx)(N.A,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,k.jsx)(P.o3,{name:"passwordConfirmation",label:"en"===(null===E||void 0===E?void 0:E.langue)?"Comfirm Password":"ht"===(null===E||void 0===E?void 0:E.langue)?"Konfime modpas la":"Confirmez le mot de passe",type:a?"text":"password",InputProps:{endAdornment:(0,k.jsx)(w.A,{position:"end",children:(0,k.jsx)(y.A,{edge:"end",onClick:()=>r(!a),children:(0,k.jsx)(N.A,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),(0,k.jsx)(A.A,{spacing:2,children:(0,k.jsx)(P.o3,{name:"ref_code",label:"en"===(null===E||void 0===E?void 0:E.langue)?"Referral code (not required)":"ht"===(null===E||void 0===E?void 0:E.langue)?"k\xf2d referans (si genyen)":"Code de Parrainage (facultatif)",helperText:"en"===(null===E||void 0===E?void 0:E.langue)?"*Optional":"ht"===(null===E||void 0===E?void 0:E.langue)?"*Li pa Obligatwa":"*Non Obligatoire",InputProps:{startAdornment:(0,k.jsx)(w.A,{position:"start",children:(0,k.jsx)(N.A,{color:"#ff8612",icon:"octicon:gift-16",width:24,height:24})})}})}),(0,k.jsx)(q.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:h,children:"en"===(null===E||void 0===E?void 0:E.langue)?"Register":"ht"===(null===E||void 0===E?void 0:E.langue)?"Enskri":"Enregistrer"})]})})}const Y=(0,a.Ay)("div")((e=>{let{theme:n}=e;return{[n.breakpoints.up("md")]:{display:"flex"}}})),I=(0,a.Ay)("header")((e=>{let{theme:n}=e;return{top:0,zIndex:9,lineHeight:0,width:"100%",display:"flex",alignItems:"center",position:"absolute",padding:n.spacing(3),justifyContent:"space-between",[n.breakpoints.up("md")]:{alignItems:"flex-start",padding:n.spacing(7,5,0,7)}}})),L=(0,a.Ay)(r.A)((e=>{let{theme:n}=e;return{width:"100%",maxWidth:464,display:"flex",flexDirection:"column",justifyContent:"center",margin:n.spacing(2,0,2,2)}})),z=(0,a.Ay)("div")((e=>{let{theme:n}=e;return{maxWidth:480,margin:"auto",display:"flex",minHeight:"100vh",flexDirection:"column",justifyContent:"center",padding:n.spacing(12,0)}}));function O(){const e=(0,u.A)("up","sm"),n=(0,u.A)("up","md");return(0,k.jsx)(c.A,{title:"Register",children:(0,k.jsxs)(Y,{children:[(0,k.jsxs)(I,{children:[(0,k.jsx)(p.A,{mini:n}),e&&(0,k.jsxs)(l.A,{variant:"body2",sx:{mt:{md:-2}},children:["Vous avez d\xe9j\xe0 un compte?"," ",(0,k.jsx)(o.A,{variant:"subtitle2",component:i.N_,to:m.pi.login,children:"Se connecter"})]})]}),n&&(0,k.jsxs)(L,{children:[(0,k.jsx)(l.A,{variant:"h3",sx:{px:5,mt:10,mb:5},children:"Nouveau sur bling!"}),(0,k.jsx)(h.A,{visibleByDefault:!0,disabledEffect:!0,alt:"register",src:"/static/assets/illustrations/illustration_register.svg"})]}),(0,k.jsx)(t.A,{children:(0,k.jsxs)(z,{children:[(0,k.jsx)(d.A,{sx:{mb:2,display:"flex",alignItems:"center"},children:(0,k.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Jouons ensemble."})}),(0,k.jsx)(E,{}),(0,k.jsxs)(l.A,{variant:"body2",align:"center",sx:{color:"text.secondary",mt:3},children:["En m'inscrivant, j'accepte\xa0",(0,k.jsx)(o.A,{underline:"always",color:"text.primary",href:"/#/termes-conditions",children:"les conditions d'utilisation"}),(0,k.jsx)("span",{style:{margin:2},children:"et"}),(0,k.jsx)(o.A,{underline:"always",color:"text.primary",href:"/#/politique-confidentialite",children:"la politique de confidentialit\xe9"}),"\xa0de bling."]}),!e&&(0,k.jsxs)(l.A,{variant:"body2",sx:{mt:3,textAlign:"center"},children:["Already have an account?"," ",(0,k.jsx)(o.A,{variant:"subtitle2",to:m.pi.login,component:i.N_,children:"Login"})]})]})})]})})}}}]);
//# sourceMappingURL=397.5638e422.chunk.js.map