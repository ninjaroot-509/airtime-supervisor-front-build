"use strict";(self.webpackChunkbling=self.webpackChunkbling||[]).push([[744],{18456:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(26769),r=a.n(n),o=a(697),s=a(20890),i=a(50533),l=a(11087),c=a(93517),d=a(80184);function m(e){let{links:t,activeLast:a=!1,...n}=e;const r=t[t.length-1].name,i=t.map((e=>(0,d.jsx)(u,{link:e},e.name))),l=t.map((e=>(0,d.jsx)("div",{children:e.name!==r?(0,d.jsx)(u,{link:e}):(0,d.jsx)(s.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:r})},e.name)));return(0,d.jsx)(c.Z,{separator:(0,d.jsx)(o.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...n,children:a?i:l})}function u(e){let{link:t}=e;const{href:a,name:n,icon:r}=t;return(0,d.jsxs)(i.Z,{variant:"body2",component:l.rU,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&(0,d.jsx)(o.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),n]},n)}function p(e){let{links:t,action:a,heading:n,moreLink:l=[],sx:c,...u}=e;return(0,d.jsxs)(o.Z,{sx:{mb:5,...c},children:[(0,d.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(o.Z,{sx:{flexGrow:1},children:[(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:n}),(0,d.jsx)(m,{links:t,...u})]}),a&&(0,d.jsx)(o.Z,{sx:{flexShrink:0},children:a})]}),(0,d.jsx)(o.Z,{sx:{mt:2},children:r()(l)?(0,d.jsx)(i.Z,{href:l,target:"_blank",rel:"noopener",variant:"body2",children:l}):l.map((e=>(0,d.jsx)(i.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},81744:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var n=a(72791),r=a(35345),o=a(57689),s=a(89164),i=a(38072),l=a(61069),c=a(85703),d=a(56322),m=a(25212),u=a(18456),p=a(81724),x=a(61134),f=a(44695),h=a(39709),g=a(61889),v=a(57621),b=a(697),j=a(20890),y=a(36314),Z=a(2190),_=a(98226),w=a(67330),k=a(33168),C=a(80184);function S(e){let{isEdit:t,currentFee:a}=e;const s=(0,o.s0)(),{t:c}=(0,k.$)(),{enqueueSnackbar:m}=(0,r.Ds)(),u=p.Ry().shape({type_transaction:p.Z_().required(c("field.required",{obj:c("field.type_transaction")})),minimum_amount:p.Z_().required(c("field.required",{obj:c("field.minimum_amount")})),maximum_amount:p.Rx().required(c("field.required",{obj:c("field.maximum_amount")})),fee_amount:p.Rx().required(c("field.required",{obj:c("field.fee_amount")}))}),S=(0,n.useMemo)((()=>({type_transaction:(null===a||void 0===a?void 0:a.type_transaction)||"",minimum_amount:(null===a||void 0===a?void 0:a.minimum_amount)||0,maximum_amount:(null===a||void 0===a?void 0:a.maximum_amount)||0,fee_amount:(null===a||void 0===a?void 0:a.fee_amount)||0,is_percent:(null===a||void 0===a?void 0:a.is_percent)||!0,description:(null===a||void 0===a?void 0:a.description)||"",keyId:(null===a||void 0===a?void 0:a.id)||-1})),[a]),I=(0,x.cI)({resolver:(0,f.X)(u),defaultValues:S}),P=(0,l.I0)(),{reset:R,watch:B,control:q,setValue:E,handleSubmit:M,formState:{isSubmitting:A}}=I,T=B();(0,n.useEffect)((()=>{t&&a&&R(S),t||R(S)}),[t,a]);const{typetransactions:D}=(0,l.v9)((e=>e.generale));return(0,n.useEffect)((()=>{P((0,_.Bs)())}),[P]),(0,C.jsx)(Z.RV,{methods:I,onSubmit:M((async()=>{try{if(t){const e=await(0,d.y4)(T);P((0,d.en)(e))}else{const e=await(0,d.Gu)(T);P((0,d.wq)(e))}R(),m(c(t?"success.UPDATED":"success.CREATE")),s(i.vB.configuration.fee)}catch(e){console.error(e);const t=(0,w.Z)(e);m(c("error.".concat(t)),{variant:"error"})}})),children:(0,C.jsx)(g.ZP,{container:!0,spacing:3,children:(0,C.jsx)(g.ZP,{item:!0,xs:12,md:8,children:(0,C.jsxs)(v.Z,{sx:{p:3},children:[(0,C.jsxs)(b.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,C.jsxs)(Z.Cc,{name:"type_transaction",label:c("field.type_transaction"),placeholder:c("field.type_transaction"),disabled:!0,value:"DEPOSIT",children:[(0,C.jsx)("option",{value:""}),null===D||void 0===D?void 0:D.map((e=>(0,C.jsx)("option",{value:e,children:c("type_transaction.".concat(e))},e)))]}),(0,C.jsx)(Z.au,{name:"minimum_amount",label:c("field.minimum_amount")}),(0,C.jsx)(Z.au,{name:"maximum_amount",label:c("field.maximum_amount")}),(0,C.jsx)(Z.au,{name:"fee_amount",label:c("field.fee_amount")}),(0,C.jsx)(Z.au,{name:"description",multiline:!0,rows:4,label:"Description"}),(0,C.jsx)(Z._e,{name:"is_percent",labelPlacement:"start",label:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(j.Z,{variant:"subtitle2",sx:{mb:.5},children:"Percent"}),(0,C.jsx)(j.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Enabling this will automatically make the fee amount to percentage"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})]}),(0,C.jsx)(y.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,C.jsx)(h.Z,{type:"submit",variant:"contained",loading:A,children:t?c("params.save_change"):c("params.create",{obj:c("p_fee.fee")})})})]})})})})}function I(){const{themeStretch:e}=(0,c.Z)(),{t:t}=(0,k.$)(),a=(0,o.s0)(),p=(0,l.I0)(),{enqueueSnackbar:x}=(0,r.Ds)(),{pathname:f}=(0,o.TH)(),{feeKey:h=""}=(0,o.UO)(),g=f.includes("edit"),[v,b]=(0,n.useState)(null);(0,n.useEffect)((()=>{g&&j()}),[h]);const j=async()=>{try{const e=await(0,d.JK)(Number(h));b(e),p((0,d.MD)())}catch(e){console.error(e);const t=(0,w.Z)(e);x(t,{variant:"error"}),a(i.vB.configuration.fee)}};return(0,C.jsx)(m.Z,{title:"Configuration: ".concat(t(g?"p_fee.edit_fee":"p_fee.new_fee")),children:(0,C.jsxs)(s.Z,{maxWidth:!e&&"lg",children:[(0,C.jsx)(u.Z,{heading:t(g?"p_fee.edit_fee":"p_fee.new_fee"),links:[{name:t("params.dashboard"),href:i.vB.root},{name:t("params.configuration"),href:i.vB.configuration.root},{name:g?"".concat(t("p_fee.fee")," ").concat(null===v||void 0===v?void 0:v.type_transaction_name):t("p_fee.new_fee")}]}),(0,C.jsx)(S,{isEdit:g,currentFee:v})]})})}},67330:(e,t,a)=>{a.d(t,{Z:()=>n});const n=e=>{var t;if(null!==(t=e.response)&&void 0!==t&&t.data){if("string"===typeof e.response.data)return e.response.data;if(Array.isArray(e.response.data))return e.response.data[0];if(e.response.data.detail)return e.response.data.detail}return"An error occurred. Please try again."}},93517:(e,t,a)=>{a.d(t,{Z:()=>R});var n=a(87462),r=a(63366),o=a(72791),s=(a(57441),a(63733)),i=a(94419),l=a(40536),c=a(66934),d=a(31402),m=a(20890),u=a(12065),p=a(74223),x=a(80184);const f=(0,p.Z)((0,x.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var h=a(95080);const g=["slots","slotProps"],v=(0,c.ZP)(h.Z)((e=>{let{theme:t}=e;return(0,n.Z)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,n.Z)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,n.Z)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,u._4)(t.palette.grey[200],.12)}:{backgroundColor:(0,u._4)(t.palette.grey[600],.12)})})})),b=(0,c.ZP)(f)({width:24,height:16});const j=function(e){const{slots:t={},slotProps:a={}}=e,o=(0,r.Z)(e,g),s=e;return(0,x.jsx)("li",{children:(0,x.jsx)(v,(0,n.Z)({focusRipple:!0},o,{ownerState:s,children:(0,x.jsx)(b,(0,n.Z)({as:t.CollapsedIcon,ownerState:s},a.collapsedIcon))}))})};var y=a(75878),Z=a(21217);function _(e){return(0,Z.Z)("MuiBreadcrumbs",e)}const w=(0,y.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),k=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,c.ZP)(m.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(w.li)]:t.li},t.root]})({}),S=(0,c.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),I=(0,c.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function P(e,t,a,n){return e.reduce(((r,o,s)=>(s<e.length-1?r=r.concat(o,(0,x.jsx)(I,{"aria-hidden":!0,className:t,ownerState:n,children:a},"separator-".concat(s))):r.push(o),r)),[])}const R=o.forwardRef((function(e,t){const a=(0,d.Z)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:m,component:u="nav",slots:p={},slotProps:f={},expandText:h="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:v=1,maxItems:b=8,separator:y="/"}=a,Z=(0,r.Z)(a,k),[w,I]=o.useState(!1),R=(0,n.Z)({},a,{component:u,expanded:w,expandText:h,itemsAfterCollapse:g,itemsBeforeCollapse:v,maxItems:b,separator:y}),B=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},_,t)})(R),q=(0,l.y)({elementType:p.CollapsedIcon,externalSlotProps:f.collapsedIcon,ownerState:R}),E=o.useRef(null),M=o.Children.toArray(c).filter((e=>o.isValidElement(e))).map(((e,t)=>(0,x.jsx)("li",{className:B.li,children:e},"child-".concat(t))));return(0,x.jsx)(C,(0,n.Z)({ref:t,component:u,color:"text.secondary",className:(0,s.Z)(B.root,m),ownerState:R},Z,{children:(0,x.jsx)(S,{className:B.ol,ref:E,ownerState:R,children:P(w||b&&M.length<=b?M:(e=>v+g>=e.length?e:[...e.slice(0,v),(0,x.jsx)(j,{"aria-label":h,slots:{CollapsedIcon:p.CollapsedIcon},slotProps:{collapsedIcon:q},onClick:()=>{I(!0);const e=E.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(M),B.separator,y,R)})}))}))}}]);
//# sourceMappingURL=744.d06c1664.chunk.js.map