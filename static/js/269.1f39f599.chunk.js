"use strict";(self.webpackChunkbling=self.webpackChunkbling||[]).push([[269],{80269:(e,n,s)=>{s.r(n),s.d(n,{default:()=>z});var a=s(11087),i=s(66934),r=s(57621),l=s(20890),t=s(50533),o=s(89164),d=s(697),u=s(53861),m=s(38072),c=s(25212),p=s(7986),h=s(5977),g=s(81724),x=s(72791),v=s(61134),f=s(57689),j=s(44695),Z=s(36314),b=s(19658),w=s(63466),y=s(13400),_=s(39709),q=s(17834),P=s(22175),C=s(53026),E=s(2190),N=s(80184);const S=[{label:"Fran\xe7ais",value:"fr"},{label:"Cr\xe9ole Ha\xeftien",value:"ht"},{label:"English",value:"en"}];function k(){const{register:e}=(0,q.Z)(),n=(0,f.TH)(),s=new URLSearchParams(n.search).get("ref"),a=(0,P.Z)(),[i,r]=(0,x.useState)(!1),l=g.Ry().shape({ref_code:g.Z_().nullable(),phone:g.Z_().required("A phone number is required"),langue:g.Z_().required("Langue is required"),firstName:g.Z_().required("First name is required"),lastName:g.Z_().required("Last name is required"),username:g.Z_().required("Username is required").matches(/^[A-Za-z0-9_]{1,15}$/,"your username is incorect"),email:g.Z_().email("Email must be a valid email address").required("Email is required"),password:g.Z_().required("Password is required"),passwordConfirmation:g.Z_().oneOf([g.iH("password"),null],"Passwords must match").required("Password is required")}),t={phone:"",langue:S[0].value,firstName:"",lastName:"",username:"",email:"",password:"",passwordConfirmation:"",ref_code:s},o=(0,v.cI)({resolver:(0,j.X)(l),defaultValues:t}),{watch:d,reset:u,setError:m,handleSubmit:c,formState:{errors:p,isSubmitting:h}}=o,k=d();return(0,N.jsx)(E.RV,{methods:o,onSubmit:c((async n=>{try{await e(n.phone,n.langue,n.username,n.email,n.password,n.firstName,n.lastName,n.ref_code),window.location.reload()}catch(i){var s;if(a.current)window.scrollTo(0,0),m("afterSubmit",{...i,message:Object.values(null===i||void 0===i||null===(s=i.response)||void 0===s?void 0:s.data).flat().join(" ")}),i.response.data.phone&&m("phone",{...i,message:i.response.data.phone}),i.response.data.username&&m("username",{...i,message:i.response.data.username}),i.response.data.ref_code&&m("ref_code",{...i,message:i.response.data.ref_code}),i.response.data.email?m("email",{...i,message:i.response.data.email}):i.response.data.non_field_errors&&m("email",{...i,message:i.response.data.non_field_errors}),i.response.data.password&&(m("password",{...i,message:i.response.data.password}),m("passwordConfirmation",{...i,message:i.response.data.password}))}})),children:(0,N.jsxs)(Z.Z,{spacing:3,children:[!!p.afterSubmit&&(0,N.jsx)(b.Z,{severity:"error",children:p.afterSubmit.message}),(0,N.jsxs)(Z.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,N.jsx)(E.PC,{type:"tel",name:"phone",label:"Phone"}),(0,N.jsxs)(E.Cc,{name:"langue",label:"Langue",placeholder:"Langue",children:[(0,N.jsx)("option",{value:""}),S.map((e=>(0,N.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,N.jsxs)(Z.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,N.jsx)(E.au,{name:"firstName",label:"en"===(null===k||void 0===k?void 0:k.langue)?"First name":"ht"===(null===k||void 0===k?void 0:k.langue)?"Nonw":"Pr\xe9nom"}),(0,N.jsx)(E.au,{name:"lastName",label:"en"===(null===k||void 0===k?void 0:k.langue)?"Last name":"ht"===(null===k||void 0===k?void 0:k.langue)?"Siyati":"Nom"})]}),(0,N.jsxs)(Z.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,N.jsx)(E.au,{name:"username",label:"en"===(null===k||void 0===k?void 0:k.langue)?"Username":"ht"===(null===k||void 0===k?void 0:k.langue)?"Ti nom":"Pseudonyme"}),(0,N.jsx)(E.au,{type:"email",name:"email",label:"en"===(null===k||void 0===k?void 0:k.langue)?"Email address":"ht"===(null===k||void 0===k?void 0:k.langue)?"Adr\xe8s mel":"Adresse e-mail"})]}),(0,N.jsxs)(Z.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,N.jsx)(E.au,{name:"password",label:"en"===(null===k||void 0===k?void 0:k.langue)?"Password":"ht"===(null===k||void 0===k?void 0:k.langue)?"Modpas":"Mot de passe",type:i?"text":"password",InputProps:{endAdornment:(0,N.jsx)(w.Z,{position:"end",children:(0,N.jsx)(y.Z,{edge:"end",onClick:()=>r(!i),children:(0,N.jsx)(C.Z,{icon:i?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,N.jsx)(E.au,{name:"passwordConfirmation",label:"en"===(null===k||void 0===k?void 0:k.langue)?"Comfirm Password":"ht"===(null===k||void 0===k?void 0:k.langue)?"Konfime modpas la":"Confirmez le mot de passe",type:i?"text":"password",InputProps:{endAdornment:(0,N.jsx)(w.Z,{position:"end",children:(0,N.jsx)(y.Z,{edge:"end",onClick:()=>r(!i),children:(0,N.jsx)(C.Z,{icon:i?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),(0,N.jsx)(Z.Z,{spacing:2,children:(0,N.jsx)(E.au,{name:"ref_code",label:"en"===(null===k||void 0===k?void 0:k.langue)?"Referral code (not required)":"ht"===(null===k||void 0===k?void 0:k.langue)?"k\xf2d referans (si genyen)":"Code de Parrainage (facultatif)",helperText:"en"===(null===k||void 0===k?void 0:k.langue)?"*Optional":"ht"===(null===k||void 0===k?void 0:k.langue)?"*Li pa Obligatwa":"*Non Obligatoire",InputProps:{startAdornment:(0,N.jsx)(w.Z,{position:"start",children:(0,N.jsx)(C.Z,{color:"#ff8612",icon:"octicon:gift-16",width:24,height:24})})}})}),(0,N.jsx)(_.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:h,children:"en"===(null===k||void 0===k?void 0:k.langue)?"Register":"ht"===(null===k||void 0===k?void 0:k.langue)?"Enskri":"Enregistrer"})]})})}const A=(0,i.ZP)("div")((e=>{let{theme:n}=e;return{[n.breakpoints.up("md")]:{display:"flex"}}})),I=(0,i.ZP)("header")((e=>{let{theme:n}=e;return{top:0,zIndex:9,lineHeight:0,width:"100%",display:"flex",alignItems:"center",position:"absolute",padding:n.spacing(3),justifyContent:"space-between",[n.breakpoints.up("md")]:{alignItems:"flex-start",padding:n.spacing(7,5,0,7)}}})),L=(0,i.ZP)(r.Z)((e=>{let{theme:n}=e;return{width:"100%",maxWidth:464,display:"flex",flexDirection:"column",justifyContent:"center",margin:n.spacing(2,0,2,2)}})),R=(0,i.ZP)("div")((e=>{let{theme:n}=e;return{maxWidth:480,margin:"auto",display:"flex",minHeight:"100vh",flexDirection:"column",justifyContent:"center",padding:n.spacing(12,0)}}));function z(){const e=(0,u.Z)("up","sm"),n=(0,u.Z)("up","md");return(0,N.jsx)(c.Z,{title:"Register",children:(0,N.jsxs)(A,{children:[(0,N.jsxs)(I,{children:[(0,N.jsx)(p.Z,{mini:n}),e&&(0,N.jsxs)(l.Z,{variant:"body2",sx:{mt:{md:-2}},children:["Vous avez d\xe9j\xe0 un compte?"," ",(0,N.jsx)(t.Z,{variant:"subtitle2",component:a.rU,to:m.EE.login,children:"Se connecter"})]})]}),n&&(0,N.jsxs)(L,{children:[(0,N.jsx)(l.Z,{variant:"h3",sx:{px:5,mt:10,mb:5},children:"Nouveau sur bling!"}),(0,N.jsx)(h.Z,{visibleByDefault:!0,disabledEffect:!0,alt:"register",src:"/static/assets/illustrations/illustration_register.svg"})]}),(0,N.jsx)(o.Z,{children:(0,N.jsxs)(R,{children:[(0,N.jsx)(d.Z,{sx:{mb:2,display:"flex",alignItems:"center"},children:(0,N.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:"Jouons ensemble."})}),(0,N.jsx)(k,{}),(0,N.jsxs)(l.Z,{variant:"body2",align:"center",sx:{color:"text.secondary",mt:3},children:["En m'inscrivant, j'accepte\xa0",(0,N.jsx)(t.Z,{underline:"always",color:"text.primary",href:"/#/termes-conditions",children:"les conditions d'utilisation"}),(0,N.jsx)("span",{style:{margin:2},children:"et"}),(0,N.jsx)(t.Z,{underline:"always",color:"text.primary",href:"/#/politique-confidentialite",children:"la politique de confidentialit\xe9"}),"\xa0de bling."]}),!e&&(0,N.jsxs)(l.Z,{variant:"body2",sx:{mt:3,textAlign:"center"},children:["Already have an account?"," ",(0,N.jsx)(t.Z,{variant:"subtitle2",to:m.EE.login,component:a.rU,children:"Login"})]})]})})]})})}}}]);
//# sourceMappingURL=269.1f39f599.chunk.js.map