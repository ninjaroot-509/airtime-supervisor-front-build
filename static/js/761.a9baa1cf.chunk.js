"use strict";(self.webpackChunkbling=self.webpackChunkbling||[]).push([[761],{18456:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(26769),i=a.n(n),l=a(697),r=a(20890),o=a(50533),s=a(11087),c=a(93517),d=a(80184);function m(e){let{links:t,activeLast:a=!1,...n}=e;const i=t[t.length-1].name,o=t.map((e=>(0,d.jsx)(u,{link:e},e.name))),s=t.map((e=>(0,d.jsx)("div",{children:e.name!==i?(0,d.jsx)(u,{link:e}):(0,d.jsx)(r.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:i})},e.name)));return(0,d.jsx)(c.Z,{separator:(0,d.jsx)(l.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...n,children:a?o:s})}function u(e){let{link:t}=e;const{href:a,name:n,icon:i}=t;return(0,d.jsxs)(o.Z,{variant:"body2",component:s.rU,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[i&&(0,d.jsx)(l.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:i}),n]},n)}function p(e){let{links:t,action:a,heading:n,moreLink:s=[],sx:c,...u}=e;return(0,d.jsxs)(l.Z,{sx:{mb:5,...c},children:[(0,d.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(l.Z,{sx:{flexGrow:1},children:[(0,d.jsx)(r.Z,{variant:"h4",gutterBottom:!0,children:n}),(0,d.jsx)(m,{links:t,...u})]}),a&&(0,d.jsx)(l.Z,{sx:{flexShrink:0},children:a})]}),(0,d.jsx)(l.Z,{sx:{mt:2},children:i()(s)?(0,d.jsx)(o.Z,{href:s,target:"_blank",rel:"noopener",variant:"body2",children:s}):s.map((e=>(0,d.jsx)(o.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},11761:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var n=a(72791),i=a(35345),l=a(57689),r=a(89164),o=a(38072),s=a(61069),c=a(85703),d=a(99933),m=a(25212),u=a(18456),p=a(81724),h=a(61134),_=a(44695),x=a(39709),y=a(61889),f=a(57621),g=a(697),v=a(20890),b=a(36314),j=a(2190),Z=a(98226),w=a(67330),k=a(33168),C=a(80184);function S(e){let{isEdit:t,currentLimitTransactionGenerale:a}=e;const r=(0,l.s0)(),{t:c}=(0,k.$)(),{enqueueSnackbar:m}=(0,i.Ds)(),u=p.Ry().shape({type_transaction:p.Z_().required(c("field.required",{obj:c("field.type_transaction")})),currency:p.Z_().required(c("field.required",{obj:c("field.currency")})),daily_limit:p.Z_().required(c("field.required",{obj:c("field.daily_limit")})),daily_amount:p.Rx().required(c("field.required",{obj:c("field.daily_amount")})),weekly_limit:p.Z_().required(c("field.required",{obj:c("field. weekly_limit")})),weekly_amount:p.Rx().required(c("field.required",{obj:c("field. weekly_amount")})),monthly_limit:p.Z_().required(c("field.required",{obj:c("field.monthly_limit")})),monthly_amount:p.Rx().required(c("field.required",{obj:c("field.monthly_amount")}))}),S=(0,n.useMemo)((()=>({type_transaction:(null===a||void 0===a?void 0:a.type_transaction)||"",currency:(null===a||void 0===a?void 0:a.currency)||"",daily_limit:(null===a||void 0===a?void 0:a.daily_limit)||0,daily_amount:(null===a||void 0===a?void 0:a.daily_amount)||0,weekly_limit:(null===a||void 0===a?void 0:a.weekly_limit)||0,weekly_amount:(null===a||void 0===a?void 0:a.weekly_amount)||0,monthly_limit:(null===a||void 0===a?void 0:a.monthly_limit)||0,monthly_amount:(null===a||void 0===a?void 0:a.monthly_amount)||0,is_activate:(null===a||void 0===a?void 0:a.is_activate)||!1,keyId:(null===a||void 0===a?void 0:a.id)||-1})),[a]),q=(0,h.cI)({resolver:(0,_.X)(u),defaultValues:S}),I=(0,s.I0)(),{reset:P,watch:R,control:B,setValue:A,handleSubmit:E,formState:{isSubmitting:M}}=q,T=R();(0,n.useEffect)((()=>{t&&a&&P(S),t||P(S)}),[t,a]);const{typetransactions:L,currencies:N}=(0,s.v9)((e=>e.generale));return(0,n.useEffect)((()=>{I((0,Z.Bs)()),I((0,Z.DE)())}),[I]),(0,C.jsx)(j.RV,{methods:q,onSubmit:E((async()=>{try{if(t){const e=await(0,d.GN)(T);I((0,d.lL)(e))}else{const e=await(0,d.Jp)(T);I((0,d.Ph)(e))}P(),m(c(t?"success.UPDATED":"success.CREATE")),r(o.vB.security_and_limit.limit_transaction_generale)}catch(e){console.error(e);const t=(0,w.Z)(e);m(c("error.".concat(t)),{variant:"error"})}})),children:(0,C.jsx)(y.ZP,{container:!0,spacing:3,children:(0,C.jsx)(y.ZP,{item:!0,xs:12,md:8,children:(0,C.jsxs)(f.Z,{sx:{p:3},children:[(0,C.jsxs)(g.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,C.jsxs)(j.Cc,{name:"type_transaction",label:c("field.type_transaction"),placeholder:c("field.type_transaction"),disabled:t,children:[(0,C.jsx)("option",{value:""}),null===L||void 0===L?void 0:L.map((e=>(0,C.jsx)("option",{value:e,children:c("type_transaction.".concat(e))},e)))]}),(0,C.jsxs)(j.Cc,{name:"currency",label:c("field.currency"),placeholder:c("field.currency"),disabled:t,children:[(0,C.jsx)("option",{value:""}),null===N||void 0===N?void 0:N.map((e=>(0,C.jsx)("option",{value:e,children:e},e)))]}),(0,C.jsx)(j.au,{name:"daily_limit",label:c("field.daily_limit")}),(0,C.jsx)(j.au,{name:"daily_amount",label:c("field.daily_amount")}),(0,C.jsx)(j.au,{name:"weekly_limit",label:c("field.weekly_limit")}),(0,C.jsx)(j.au,{name:"weekly_amount",label:c("field.weekly_amount")}),(0,C.jsx)(j.au,{name:"monthly_limit",label:c("field.monthly_limit")}),(0,C.jsx)(j.au,{name:"monthly_amount",label:c("field.monthly_amount")}),(0,C.jsx)(j._e,{name:"is_activate",labelPlacement:"start",label:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v.Z,{variant:"subtitle2",sx:{mb:.5},children:"Activated"}),(0,C.jsx)(v.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Enabling this will automatically make this limit on"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})]}),(0,C.jsx)(b.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,C.jsx)(x.Z,{type:"submit",variant:"contained",loading:M,children:t?c("params.save_change"):c("params.create",{obj:c("p_limit_transaction_generale.limit_transaction_generale")})})})]})})})})}function q(){const{themeStretch:e}=(0,c.Z)(),{t:t}=(0,k.$)(),a=(0,l.s0)(),p=(0,s.I0)(),{enqueueSnackbar:h}=(0,i.Ds)(),{pathname:_}=(0,l.TH)(),{limitTransactionKey:x=""}=(0,l.UO)(),y=_.includes("edit"),[f,g]=(0,n.useState)(null);(0,n.useEffect)((()=>{y&&v()}),[x]);const v=async()=>{try{const e=await(0,d.MQ)(Number(x));g(e),p((0,d.VM)())}catch(e){console.error(e);const t=(0,w.Z)(e);h(t,{variant:"error"}),a(o.vB.security_and_limit.limit_transaction_generale)}};return(0,C.jsx)(m.Z,{title:"Security And Limit: ".concat(t(y?"p_limit_transaction_generale.edit_limit_transaction_generale":"p_limit_transaction_generale.new_limit_transaction_generale")),children:(0,C.jsxs)(r.Z,{maxWidth:!e&&"lg",children:[(0,C.jsx)(u.Z,{heading:t(y?"p_limit_transaction_generale.edit_limit_transaction_generale":"p_limit_transaction_generale.new_limit_transaction_generale"),links:[{name:t("params.dashboard"),href:o.vB.root},{name:t("params.security_and_limit"),href:o.vB.security_and_limit.root},{name:y?"".concat(t("p_limit_transaction_generale.limit_transaction_generale")," ").concat(null===f||void 0===f?void 0:f.type_transaction_name):t("p_limit_transaction_generale.new_limit_transaction_generale")}]}),(0,C.jsx)(S,{isEdit:y,currentLimitTransactionGenerale:f})]})})}},67330:(e,t,a)=>{a.d(t,{Z:()=>n});const n=e=>{var t;if(null!==(t=e.response)&&void 0!==t&&t.data){if("string"===typeof e.response.data)return e.response.data;if(Array.isArray(e.response.data))return e.response.data[0];if(e.response.data.detail)return e.response.data.detail}return"An error occurred. Please try again."}},93517:(e,t,a)=>{a.d(t,{Z:()=>P});var n=a(87462),i=a(63366),l=a(72791),r=(a(57441),a(63733)),o=a(94419),s=a(40536),c=a(66934),d=a(31402),m=a(20890),u=a(12065),p=a(74223),h=a(80184);const _=(0,p.Z)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var x=a(95080);const y=["slots","slotProps"],f=(0,c.ZP)(x.Z)((e=>{let{theme:t}=e;return(0,n.Z)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,n.Z)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,n.Z)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,u._4)(t.palette.grey[200],.12)}:{backgroundColor:(0,u._4)(t.palette.grey[600],.12)})})})),g=(0,c.ZP)(_)({width:24,height:16});const v=function(e){const{slots:t={},slotProps:a={}}=e,l=(0,i.Z)(e,y),r=e;return(0,h.jsx)("li",{children:(0,h.jsx)(f,(0,n.Z)({focusRipple:!0},l,{ownerState:r,children:(0,h.jsx)(g,(0,n.Z)({as:t.CollapsedIcon,ownerState:r},a.collapsedIcon))}))})};var b=a(75878),j=a(21217);function Z(e){return(0,j.Z)("MuiBreadcrumbs",e)}const w=(0,b.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),k=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,c.ZP)(m.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(w.li)]:t.li},t.root]})({}),S=(0,c.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),q=(0,c.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function I(e,t,a,n){return e.reduce(((i,l,r)=>(r<e.length-1?i=i.concat(l,(0,h.jsx)(q,{"aria-hidden":!0,className:t,ownerState:n,children:a},"separator-".concat(r))):i.push(l),i)),[])}const P=l.forwardRef((function(e,t){const a=(0,d.Z)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:m,component:u="nav",slots:p={},slotProps:_={},expandText:x="Show path",itemsAfterCollapse:y=1,itemsBeforeCollapse:f=1,maxItems:g=8,separator:b="/"}=a,j=(0,i.Z)(a,k),[w,q]=l.useState(!1),P=(0,n.Z)({},a,{component:u,expanded:w,expandText:x,itemsAfterCollapse:y,itemsBeforeCollapse:f,maxItems:g,separator:b}),R=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Z,t)})(P),B=(0,s.y)({elementType:p.CollapsedIcon,externalSlotProps:_.collapsedIcon,ownerState:P}),A=l.useRef(null),E=l.Children.toArray(c).filter((e=>l.isValidElement(e))).map(((e,t)=>(0,h.jsx)("li",{className:R.li,children:e},"child-".concat(t))));return(0,h.jsx)(C,(0,n.Z)({ref:t,component:u,color:"text.secondary",className:(0,r.Z)(R.root,m),ownerState:P},j,{children:(0,h.jsx)(S,{className:R.ol,ref:A,ownerState:P,children:I(w||g&&E.length<=g?E:(e=>f+y>=e.length?e:[...e.slice(0,f),(0,h.jsx)(v,{"aria-label":x,slots:{CollapsedIcon:p.CollapsedIcon},slotProps:{collapsedIcon:B},onClick:()=>{q(!0);const e=A.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-y,e.length)])(E),R.separator,b,P)})}))}))}}]);
//# sourceMappingURL=761.a9baa1cf.chunk.js.map